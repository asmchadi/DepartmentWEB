<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pe="http://primefaces.org/ui/extensions">
<h:body>
	<ui:composition template="/templates/backoffice/main.xhtml">
		<ui:define name="submenu">
			<li><a href="index.xhtml">Pvs</a> <i class="icon-angle-right"></i></li>
			<li><a href="#">Affichage</a></li>
		</ui:define>
		<ui:define name="content">
			<div class="row-fluid sortable ui-sortable">
				<div class="box span12">
					<div class="box-header" data-original-title="">
						<h2>
							<i class="halflings-icon edit"></i><span class="break"></span>
							Cr√©ation d'une nouvelle PV :
						</h2>
					</div>
					<div class="box-content">
						<h:form>
							<fieldset>
								<div id="article">
									<div class="control-group">
										<label class="control-label"></label>

										<div class="controls">
											<h:messages globalOnly="true" style="color:red"></h:messages>
										</div>
									</div>
									<div class="control-group">
										<label class="control-label required">Intitule de Pv :</label>
										<div class="controls">
											<h:inputText styleClass="form-control" style="width:500px"
												value="#{cd_pvs.pv.intitule}"></h:inputText>
										</div>
									</div>
									<div class="control-group">
										<label class="control-label required">Period :</label>
										<div class="controls">
											<h:inputText styleClass="form-control" style="width:50px"
												value="#{cd_pvs.pv.period}"></h:inputText>
										</div>
									</div>
									<div class="control-group">
										<label class="control-label required">Choisi le model :</label>
										<div class="controls">
											<p:selectOneMenu id="valid" value="#{cd_pvs.model}">
												<f:selectItem itemValue=""
													itemLabel=""></f:selectItem>
												<f:selectItems value="#{cd_pvs.pvmodels}" var="validator"
													itemValue="#{validator.model}"
													itemLabel="#{validator.intitule}"></f:selectItems>
												<p:ajax event="change" update="pveditor"
													process="valid" listener="#{cd_pvs.selectedModel}"></p:ajax>
											</p:selectOneMenu>
										</div>
									</div>
									<div class="control-group">
										<label class="control-label required"> </label>
										<div class="controls">
											<pe:ckEditor width="100%" height="500px" id="pveditor"
												value="#{cd_pvs.pv.text}"></pe:ckEditor>
										</div>
									</div>
								</div>
								<div class="form-actions">
									<p:commandLink ajax="false" styleClass="btn btn-primary"
										actionListener="#{cd_pvs.addPv}" value="Publier"></p:commandLink>
									<a class="btn" href="index.xhtml?faces-redirect=true">Retour</a>
								</div>
							</fieldset>
						</h:form>
					</div>
				</div>
				<!--/span-->
			</div>
		</ui:define>
	</ui:composition>
</h:body>
</html>